<!DOCTYPE html>
<html>
<head>
    <title>Open and Inject</title>
</head>
<body>

    <button onclick="openAndInject()">Open about:blank and Inject Website</button>

    <script>
        function openAndInject() {
            // Open a new about:blank tab
            const newTab = window.open("about:blank", "_blank");

            // Check if the new tab was successfully opened
            if (newTab) {
                // Construct the HTML for the iframe
                const iframeHtml = `
                    <!DOCTYPE html>
                    <html>
                    <head>
                        <title>Injected Content</title>
                        <style>
                            body { margin: 0; padding: 0; overflow: hidden; }
                            iframe { border: none; width: 100vw; height: 100vh; }
                        </style>
                    </head>
                    <body>
                        <iframe src="terraria.mercurywork.shop"></iframe>
                    </body>
                    </html>
                `;

                // Write the HTML to the new tab's document
                newTab.document.write(iframeHtml);
                newTab.document.close(); // Important to close the document stream
            } else {
                alert("Pop-up blocked! Please allow pop-ups for this site.");
            }
        }
    </script>

</body>
</html>
